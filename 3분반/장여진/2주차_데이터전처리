## 정형 데이터와 데이터 정제

1. 정형 데이터
    
    행과 열이 정해진 데이터
    

2. 데이터 정제
    
    데이터 분석 목적에 부합하는 데이터 품질을 확보하기 위한 일체의 데이터 작업
    
    데이터 전처리 → 결측치, 노이즈, 이상값과 같은 문제를 해결
    

---

## 전처리 기법(1) - 결측치

1. 결측치
    
    수집된 데이터 셋 중 관측되지 않은 특정 확률변수의 값
    
    - 결측치의 값 : 0, NaN (뚫려있는 값)
    - 문제점 : 분석 왜곡,  데이터 분석(산술연산 등) 시 에러 발생
    
2. 결측치 종류
    - MCAR : 완전 무작위 결측 (random, 변수 연관성 없음)
        - random, 변수의 관측치와 결측치에 모두 독립
        - 결측치 대체 전후의 분포 변화 없음
        - 처리 : 관측치가 많다면 제거
        
    - MAR : 무작위 결측 (random, 관측된 변수 연관성 있음)
        - 결측이 다른 관측된 변수로 추정 가능
        - 처리 : 다양한 결측치 대체 기법으로 추정
        
    - MNAR : 비 무작위 결측 (MCAR, MAR 외의 모든 경우, 관찰되지 않은 변수에도 연관)
        - 랜덤이 아니고, 관측값과 결측값 모두에 영향을 받음
        - 단순 대치로 해결 어려움
        - 처리 : 삭제/평균 대치 모두 편향의 위험 → 추가적인 모델링 필요
        
3. 결측치 대치법
    - 단순 대치법 : 결측 포함 행/열 삭제
        - 장점 : 쉬움
        - 단점 : 관측치 부족 시 분석 기법에 대한 근거 미약
        
    - 평균 대치법 : 관측 변수의 평균값으로 대체
        - 장점 : 분석이 간편
        - 단점 : 통계량의 변량을 과소 추정하게 됨
        
    - 단순 확률 대치법 : 결측치에 해당하는 관측치와 가장 가까운 k개 이웃을 통해 대체
        - 범주형 → 최빈값, 연속형 → 중앙값
        - 장점 : 단순대치법, 평균 대치법보다 정확도 높음
        - 단점 : 모든 상황에 적합하지 않음
        
    - 다중 대치법 : n번의 단순 대치법을 반복 수행하여 n개 독립 데이터셋을 만들어 활용
        - 대치 적용 → 결과 평가 → 결과 병합

---

## 전처리 기법(2) - 스케일링&인코딩

1. 수치형 데이터와 범주형 데이터
    
    수치형 데이터 → 스케일링 : 숫자의 단위, 범위를 맞추는 작업
    
    범주형 데이터 → 인코딩 : 문자를 숫자로 바꾸는 작업
    

2. 스케일링
    - 표준화 (z변환)
        - 평균 0 & 표준편차 1 기반으로 바꿈, 선형모델, 거리 기반 모델에서 자주 필요
        - 대표 : 선형회귀, 로지스틱 회귀, 선형 판별 분석
    
    - 정규화
        - 목적 :값의 범위 기준으로 바꿈, 단위들의 차이를 제거할 때 필요 (선형/통계 모델)
        - 대표 : MinMax 스케일링, Robust 스케일링, [0,1] 스케일링
    
    - 기타 변환
        - log / inverse / sqrt / power / Box-Cox
        - 목적: 왜도 줄이기, 정규화 효과, 탐색적 분석 목적의 변환

3. 인코딩
    - One-hot
        - 크기, 의미가 없는 범주에서 사용
        - 단점 : 희소 행렬
        
    - Hashing Encoding
        - Hashing trick을 활용하여 인코딩하는 방식
        - One-hot encoding 대비 dummy variable을 적게 생성, 겹침에 따른 충돌 없음

---

## 전처리 기법(3) - 이상치

1. 이상치(Outlier)
    
    다른 데이터와 너무 동떨어진 값
    
    - 영향점 : 그 값을 지웠을 때 결과가 크게 바뀌는 이상치
    - 가면 효과 : 이상치가 다른 이상치 때문에 가려져서 탐지가 안되는 경우
    - 수렁 효과 : 정상 데이터가 주변 상황 때문에 이상치로 오인되는 경우
    
2. 선형회귀모델
    
    출력변수 y를 입력변수 x들의 선형결합으로 표현한 모델
    
    목적 : x 변수와 y 변수 사이의 관계를 수치로 설명, y값을 예측
    
    장점 : 데이터들이 직선 주변에 모여있다면 회귀선이 예측을 잘함
    
    단점 : 이상치가 있다면 회귀선, 예측 왜곡 가능성 큼
    
3. 이상치 탐색 
    - 시계열성 분류
        
        시계열 o → shewhart control chart, 누적합, 지수평활법 등
        
        시계열 x → 변수의 수로 분류
        
    - 변수의 수 : 단변량 vs 다변량
        
        단변량 → z-score, 통계적 가설검정, 사분위수범위 등
        
        다변량 → 회귀진단, 마할노비스 거리, LoF, iForest
        

---

## 문제

1. 다음 중 옳은 것만을 고르세요.
    
    ㄱ. 결측치는 값이 비어 있는 상태이며, 이상치는 다른 값들과 비교해 크게 튀는 관측치이다.
    
    ㄴ. 수치형 데이터는 인코딩을 통해 문자 형태를 숫자로 바꿔야 한다.
    
    ㄷ. 범주형 데이터는 one-hot encoding 또는 hashing 같은 방법으로 숫자로 변환할 수 있다.
    
    ㄹ. 이상치는 회귀 모델에서 잔차(residual)를 크게 만들어 모델 적합을 왜곡할 수 있다.
    
    정답: ㄱ,ㄷ,ㄹ
    

2. 다음 중 **MCAR**에 대한 설명으로 옳은 것만을 고르세요.
    
    ㄱ. 결측 발생이 다른 변수와 무관하게 완전히 랜덤이다.
    
    ㄴ. 결측 발생은 관측되지 않은 변수(숨은 요인)와 관련될 수 있다.
    
    ㄷ. 표본이 충분하다면 결측 포함 행을 삭제해도 분포 왜곡이 비교적 적다.
    
    ㄹ. 결측 여부가 다른 관측된 변수로 설명될 수 있다.
    
    정답 : ㄱ,ㄷ
    

3. 표준화(Standardization)와 정규화(Normalization)의 차이를 설명하세요.
    
    정답 : 표준화는 분포 기준, 정규화는 범위 기준의 스케일링이다.
